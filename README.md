# 自定义控制器通信程序（6 路布瑞克编码器 · USART6 · 上位机）

## 📌 项目简介
本仓库为 RoboMaster 工程机器人 **自定义控制器上位机程序**，  
系统由 **6 个布瑞克（Brett）绝对值编码器 + 大疆A板（stm32h427）** 组成，
分别对应工程机器人机械臂上的 **6 个电机 / 6 个关节**。

上位机负责采集 6 路编码器角度数据，并通过 **有线串口（USART6）**
发送至 STM32 下位机，用于机械臂姿态感知与控制。

当前代码已完成 **完整链路通信验证**，并在实际系统中成功使用。

---

## 🤖 系统定位说明

- 📍 **本仓库代码全部运行于上位机**
- 📍 功能为：**自定义控制器数据发送端**

---

### 🔹 编码器系统
- 编码器类型：**布瑞克（Brett）绝对值编码器**
- 数量：**6 个**
- 作用：采集机械臂 6 个关节的绝对角度信息

### 🔹 通信方式
- 通信接口：**USART6**
- 连接方式：**有线串口连接**
- 数据方向：  
  **上位机 → STM32 下位机**

---

## 📁 工程说明

仓库中包含以下几个上位机程序版本：

### 1️⃣ `use_custroller`
- ✅ **当前主力使用版本**
- 程序定位：
  - 上位机 **自定义控制器发送程序**
- 功能说明：
  - 采集 6 路布瑞克编码器角度数据
  - 通过 USART6 发送至 STM32 下位机
- 使用状态：
  - 已完成通信验证
  - 已在实际工程机器人中投入使用

---

### 2️⃣ `use_custrollere`
- 🧪 **功能等同的上位机发送程序**
- 程序定位：
  - 上位机 **自定义控制器发送端**
- 说明：
  - 与 `use_custroller` 同为上位机程序
  - 通过有线 USART6 与 STM32 通信
  - 通信链路验证成功
- 备注：
  - 主要用于调试或不同实验场景

---

### 3️⃣ `use_custroller_VTM`
- 🕰 **老裁判系统版本**
- 程序定位：
  - 面向 **老版本 RoboMaster 裁判系统**
  - 上位机 **自定义控制器数据发送程序**
- 说明：
  - 使用旧裁判系统协议格式
  - 用于历史系统兼容
  - 当前非主力维护版本

---

## 🧠 功能特点

- 6 路机械臂关节角度数据实时发送
- 基于 USART6 的稳定有线通信
- 上位机 / 下位机职责清晰
- 自定义数据帧格式，便于后续扩展
- 可直接对接机械臂控制与解算算法

---

## 🧪 当前状态

- ✅ 6 路布瑞克编码器数据采集完成
- ✅ USART6 有线通信稳定
- ✅ STM32 下位机接收解析正确
- ⏳ 后续可扩展方向：
  - CRC 校验机制
  - 数据帧鲁棒性增强
  - 与 CAN 电机控制逻辑融合
  - 多模式控制器切换

---

## 📌 使用说明（简要）

1. 将 6 个布瑞克编码器连接至上位机采集系统  
2. 使用串口线连接上位机与 STM32 的 **USART6**
3. 运行上位机程序（`use_custroller` 等）
4. STM32 下位机接收数据并用于机械臂控制

---

## 👤 作者

- GitHub：[@joyful-jogo](https://github.com/joyful-jogo)
- 方向：RoboMaster | STM32 嵌入式 | 机械臂与工程机器人控制

---

## 📄 备注

本仓库为 RoboMaster 工程机器人机械臂系统中的  
**上位机自定义控制器通信实现方案**。
